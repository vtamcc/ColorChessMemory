{"version":3,"sources":["assets/ColorMemoryChess/scripts/MemoryChess_GamePlay.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport MemoryChes_GameOver from \"./MemoryChess_GameOver\";\nimport MemoryChess_Global from \"./MemoryChess_Global\";\nimport MemoryChess_Item from \"./MemoryChess_Item\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class MemoryChess_GamePlay extends cc.Component {\n    public static instance: MemoryChess_GamePlay = null;\n    @property(cc.Prefab)\n    prfItem: cc.Prefab = null;\n    @property(cc.Node)\n    nodeItem: cc.Node = null;\n\n    @property(cc.Node)\n    nodeDice: cc.Node = null;\n\n    @property(cc.Sprite)\n    spfDice: cc.Sprite = null;\n\n\n    @property(cc.SpriteFrame)\n    listSpfChess: cc.SpriteFrame[] = [];\n\n    @property(cc.AnimationClip)\n    listAnimation: cc.AnimationClip[] = [];\n\n    @property(cc.Prefab)\n    prfGameOver: cc.Prefab = null;\n\n    @property(cc.Label)\n    lbTime: cc.Label = null;\n\n    @property(cc.Label)\n    lbHeart: cc.Label = null;\n    numCircles = 3;\n    listColor = [];\n    listIdColor = [];\n    isClick = true;\n    isClickItem = false;\n    isPlayerTurn = true;\n    time = 3;\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        console.log(\"heart \",MemoryChess_Global.heart);\n        MemoryChess_GamePlay.instance = this;\n        this.randomColor();\n        this.shuffle();\n        this.renItem();\n        this.updateLbHeart();\n        //this.startPlayerTurn();\n        this.scheduleOnce( () => {\n            this.startCountDown();\n        },5.5)\n        console.log(\"iisClick \", this.isClick);\n       \n    }\n\n    resetGame() {\n        this.nodeItem.removeAllChildren();\n        this.listColor = [];\n        this.listIdColor = [];\n        this.isClick = true;\n        this.isClickItem = false;\n        MemoryChess_Global.heart = 3;\n        this.randomColor();\n        this.shuffle();\n        this.renItem();\n        this.updateLbHeart();\n        this.scheduleOnce( () => {\n            this.startCountDown();\n        },5.5)\n\n    }\n    startPlayerTurn() {\n        console.log(\"Luot cua nguoi choi \");\n        this.isPlayerTurn = true;\n        this.isClick = false;\n       \n    }\n\n    endPlayerTurn() {\n        this.isClick = true;\n        this.scheduleOnce(() => {\n            this.startTurnBot();\n        }, 2.5)\n    }\n\n    startTurnBot() {\n        console.log(\"Luot cua nguoi Bot \");\n        this.isClick = false;\n        this.clickRoll();\n        console.log(\"lengt \", this.node.children.length);\n        let ramdomIndex = Math.floor(Math.random() * this.nodeItem.children.length);\n    }\n\n    randomColor() {\n        for (let i = 0; i < MemoryChess_Global.arrColor.length; i++) {\n            this.listColor.push(MemoryChess_Global.arrColor[i]);\n            this.listColor.push(MemoryChess_Global.arrColor[i]);\n            this.listColor.push(MemoryChess_Global.arrColor[i]);\n            this.listColor.push(MemoryChess_Global.arrColor[i]);\n        }\n\n        let ramdomIndex = Math.floor(Math.random() * 6) + 1;\n        this.listColor.push(ramdomIndex);\n\n    }\n\n    shuffle() {\n        for (let i = this.listColor.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [this.listColor[i], this.listColor[j]] = [this.listColor[j], this.listColor[i]];\n        }\n        console.log(\"list Color \", this.listColor);\n    }\n\n    renItem() {\n        // let arrRadius = [200, 120, 0];\n        // let numPiecesInCircles = [16, 8, 1];\n\n        // for (let circle = 0; circle < this.numCircles; circle++) {\n        //     let radius = arrRadius[circle];\n        //     let numPiecesInCircle = numPiecesInCircles[circle];\n        //     for (let i = 0; i < numPiecesInCircle; i++) {\n        //         let angle = (i / numPiecesInCircle) * Math.PI * 2;\n        //         let x = Math.cos(angle) * radius;\n        //         let y = Math.sin(angle) * radius;\n        //         let itemNode = cc.instantiate(this.prfItem);\n        //         let item = itemNode.getComponent(MemoryChess_Item);\n        //         itemNode.setPosition(x, y);\n        //         item.setData(this.listColor[i]);\n        //         this.nodeItem.addChild(itemNode);\n\n        //     }\n        // }\n        let gridSize = 5;\n        let cellSpacing = 35;\n        let startX = -(gridSize - 1) * (this.prfItem.data.width + cellSpacing) / 2;\n        let startY = (gridSize - 1) * (this.prfItem.data.height + cellSpacing) / 2;\n\n        for (let i = 0; i < this.listColor.length; i++) {\n            let row = Math.floor(i / gridSize);\n            let col = i % gridSize;\n\n            // let item = cc.instantiate(this.prfItem).getComponent(MemoryChess_Item)\n            // item.setData(this.listColor[i]);\n            // this.nodeItem.addChild(item.node);\n            let item = cc.instantiate(this.prfItem).getComponent(MemoryChess_Item);\n            item.setData(this.listColor[i]);\n            let x = startX + col * (item.node.width + cellSpacing);\n            let y = startY - row * (item.node.height + cellSpacing);\n            item.node.setPosition(x, y);\n            let delay = i * 0.2;\n            this.upChessBack(item.sprItemBack, delay);\n            this.nodeItem.addChild(item.node);\n        }\n    }\n\n    clickRoll() {\n        if (this.isClick) {\n            return;\n        }\n        let idColor = Math.floor(Math.random() * 6) + 1;\n        this.nodeDice.getComponent(cc.Animation).play(this.listAnimation[idColor].name);\n        this.listIdColor.push(idColor);\n        console.log(\"idColor \", this.listIdColor);\n        this.isClickItem = true;\n        this.isClick = true;\n        console.log('isClick ', this.isClick);\n\n\n    }\n\n    startCountDown() {\n        this.time = 3;\n        this.lbTime.node.active = true;\n        \n        this.updateLbTime();\n        this.schedule(this.countDownTick, 1);\n    }\n\n    countDownTick() {\n        if (this.time > 0) {\n            this.time--;\n            this.updateLbTime();\n            \n        } else {\n            this.unschedule(this.countDownTick);\n            this.lbTime.node.active = false;;\n            this.downChessBack();\n            this.isClick = false;\n        }\n    }\n\n    updateLbTime() {\n        \n        this.lbTime.string = this.time + ' ';\n    }\n    upChessBack(node, delay) {\n        // cc.tween(node)\n        //     .delay(delay)\n        //     .to(0.5, { y: 68 })\n        //     .delay(4)\n        //     .to(0.5, { y: originalY })\n        //     .start();\n        cc.tween(node)\n            .delay(delay)\n            .to(0.5, { y: 68 })\n            .start();\n    }\n\n    downChessBack() {\n        for(let i = 0; i < this.nodeItem.childrenCount; i++) {\n            let node = this.nodeItem.children[i].children[1];\n            cc.tween(node)\n            .to(0.2, {y: 0})\n            .start();\n        }\n    }\n\n    moveToCenterAndDestroy(node, disableNode) {\n        let centerX = 0;\n        let centerY = 0;\n        node.zIndex = 100;\n        //disableNode.active = false;\n        // cc.tween(node)\n        //     .to(0.5, { x: centerX, y: centerY, scale: 1.5 })\n        //     .call(() => {\n        //         this.scheduleOnce(() => {\n        //             node.destroy();\n        //         }, 0.5)\n        //     })\n        //     .start();\n\n        cc.tween(node)\n            .to(0.5, { x: centerX, y: centerY, scale: 1.5 })\n            .call(() => {\n\n                cc.tween(disableNode)\n                    .to(0.5, { y: disableNode.y + 65 })\n                    .delay(0.5)\n                    .to(0.5, { y: 0 })\n                    .delay(0.8)\n                    .call(() => {\n                        disableNode.active = false;\n                        node.destroy();\n                    })\n                    .start();\n            })\n            .start();\n    }\n\n\n    moveToCenterAndReturn(node, disableNode) {\n\n        let centerX = 0;\n        let centerY = 0;\n        let originalX = node.x;\n        let originalY = node.y;\n        node.zIndex = 100;\n        //disableNode.active = false;\n        // cc.tween(node)\n        //     .to(0.5, { x: centerX, y: centerY, scale: 1.5 })\n        //     .delay(0.5)\n        //     .call(() => {\n        //         disableNode.active = true;\n        //     })\n        //     .to(0.5, { x: originalX, y: originalY, scale: 1.0 })\n        //     .start();\n        cc.tween(node)\n            .to(0.5, { x: centerX, y: centerY, scale: 1.5 })\n            .delay(0.5)\n            .call(() => {\n                cc.tween(disableNode)\n                    .to(0.5, { y: disableNode.y + 65 })\n                    .delay(0.5)\n                    .to(0.5, { y: 0 })\n                    .start();\n            })\n            .delay(1.5)\n            .to(0.5, { x: originalX, y: originalY, scale: 1.0 })\n            .call(() => {\n                node.zIndex = 1;\n            })\n            .start();\n\n\n    }\n    updateLbHeart() {\n        this.lbHeart.string = MemoryChess_Global.heart + ' '\n    }\n\n    checkIdColor(idColor, node, disableNode) {\n\n        console.log(\"listColor \", this.listColor);\n        if (this.listIdColor[0] == idColor) {\n            console.log(\"dung \");\n            let index = this.listColor.indexOf(idColor);\n            if (index !== -1) {\n                this.listColor.splice(index, 1);\n            }\n\n            this.moveToCenterAndDestroy(node, disableNode);\n\n        } else {\n            console.log(\"Sai \");\n            this.moveToCenterAndReturn(node, disableNode);\n            MemoryChess_Global.heart--;\n            this.scheduleOnce(() => {\n                this.updateLbHeart();\n            },3)\n            \n        }\n\n        if(MemoryChess_Global.heart == 0) {\n            MemoryChess_Global.gameOver = cc.instantiate(this.prfGameOver).getComponent(MemoryChes_GameOver);\n            MemoryChess_Global.gameOver.showLose();\n            this.scheduleOnce(() => {\n                this.node.addChild(MemoryChess_Global.gameOver.node);\n            },3.5)\n            \n        }\n\n        if (this.listColor.length == 0) {\n            this.isClick = true;\n            MemoryChess_Global.gameOver = cc.instantiate(this.prfGameOver).getComponent(MemoryChes_GameOver);\n            MemoryChess_Global.gameOver.showWin();\n            this.node.addChild(MemoryChess_Global.gameOver.node);\n            console.log(\"Win\");\n\n        }\n\n\n\n        console.log(\"listColor \", this.listColor);\n        this.listIdColor = [];\n\n        // if (this.isPlayerTurn) {\n        //     this.endPlayerTurn();\n        // }\n    }\n\n\n    onClickBack() {\n        MemoryChess_Global.soundManager.onItemClicked();\n        this.node.destroy();\n    }\n\n    nodeDestroy() {\n        this.node.destroy();\n    }\n    start() {\n\n    }\n\n    // update (dt) {}\n}\n"]}